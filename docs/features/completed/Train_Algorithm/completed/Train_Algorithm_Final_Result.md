# Train ê°ë„ ì•Œê³ ë¦¬ì¦˜ ìµœì¢… ê²°ê³¼

---

**ì™„ë£Œì¼**: 2024-12  
**ì‘ì„±ì**: GTL Systems  
**ìƒíƒœ**: âœ… êµ¬í˜„ ì™„ë£Œ

---

## ì›ë³¸ ê³„íš

ì›ë³¸ ê³„íš ë¬¸ì„œê°€ ë³„ë„ë¡œ ì¡´ì¬í•˜ì§€ ì•Šì•„, ê¸°ì¡´ ì™„ë£Œ ë¬¸ì„œì˜ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ìˆ˜ì • ì‚¬í•­

êµ¬í˜„ ê³¼ì •ì—ì„œ ê³„íšê³¼ ë‹¤ë¥¸ ë¶€ë¶„ì´ë‚˜ ë¬¸ì œ ë°œìƒ ë° í•´ê²° ì‚¬í•­:

### ì£¼ìš” ìˆ˜ì • ì‚¬í•­

1. **ì„ê³„ê°’ ì¡°ì •**
   - ê³„íš: ê¸°ë³¸ê°’ 3.0Â°/s
   - ìµœì¢…: 10.0Â°/s ì‚¬ìš© (ê³µê²©ì  ìš´ì˜)
   - ì´ìœ : ë‚®ì€ ì„ê³„ê°’(1.0Â°/s) ì‚¬ìš© ì‹œ ì—­íš¨ê³¼ ë°œìƒ (ê°ì†ë„ ì¦ê°€)

2. **Keyhole íŒë‹¨ ê¸°ì¤€**
   - ê³„íš: `final_transformed` (Train=0)ì˜ MaxAzRate ê¸°ì¤€
   - ìµœì¢…: ë™ì¼í•˜ê²Œ ìœ ì§€
   - ê²€ì¦: ë¡œê·¸ ë¶„ì„ ê²°ê³¼ ë†’ì€ ì„ê³„ê°’(10.0Â°/s)ì´ ë” íš¨ê³¼ì 

---

## ìµœì¢… ì ìš© ë‚´ìš©

### 1. ê°œìš”

#### ëª©ì 
ìœ„ì„± ì¶”ì  ì‹œ Keyhole ì˜ì—­(Azimuth Â±270Â° ê·¼ì²˜) íšŒí”¼ë¥¼ ìœ„í•œ Train ê°ë„ ìµœì í™” ì•Œê³ ë¦¬ì¦˜

#### í•µì‹¬ ê¸°ëŠ¥
- 2ì¶• ì›ë³¸ ë°ì´í„° â†’ 3ì¶• ë³€í™˜ (Train ê°ë„ ì ìš©)
- Keyhole íŒë‹¨ ë° Train ê°ë„ ê³„ì‚°
- ê°ë„ ì œí•œ (Â±270Â° ë²”ìœ„)
- 6ê°€ì§€ DataTypeë³„ ë°ì´í„° ê´€ë¦¬

#### ì£¼ìš” íŠ¹ì§•
- Train=0ê³¼ Trainâ‰ 0 ë°ì´í„° ë¶„ë¦¬ ê´€ë¦¬
- Keyhole ë°œìƒ ì‹œì—ë§Œ Trainâ‰ 0 ë°ì´í„° ìƒì„±
- ë™ì  CSV ì¶œë ¥ (Keyhole ì—¬ë¶€ì— ë”°ë¼ í—¤ë”/ë°ì´í„° ë³€ê²½)

---

### 2. ë¬¼ë¦¬ì  ë°°ì¹˜ ë° ì¢Œí‘œê³„

#### 2.1 ì•ˆí…Œë‚˜ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Elevationì¶•    â”‚  â† ìµœìƒë‹¨ (ê³ ë„ê° íšŒì „)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Azimuthì¶•      â”‚  â† ì¤‘ë‹¨ (ë°©ìœ„ê° íšŒì „)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Trainì¶•        â”‚  â† ìµœí•˜ë‹¨ (ì•ˆí…Œë‚˜ ì „ì²´ íšŒì „)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2 ì¢Œí‘œê³„
```
        ğŸ‘¤ ì‚¬ìš©ì (ë¶ìª½ì—ì„œ ë‚¨ìª½ì„ ë°”ë¼ë´„)
          
        ë¶ìª½ (0Â°)
          â†‘
          |
ì„œìª½ â†----â—----â†’ ë™ìª½
(270Â°)  ì•ˆí…Œë‚˜   (90Â°)
          |
          â†“
        ë‚¨ìª½ (180Â°)

[ì•ˆí…Œë‚˜ ì •ë©´ - ì‚¬ìš©ì ê´€ì ]
  ë™ìª½(-7Â°) â† [ì•ˆí…Œë‚˜] â†’ ì„œìª½(+7Â°)
    ì¢Œì¸¡              ìš°ì¸¡
```

#### 2.3 Â±270Â° ì œí•œ ì´ìœ 
- ê¸°ê³„ì  ì•ˆì „: í¬ì§€ì…”ë„ˆ ë¬¼ë¦¬ì  ì œí•œ
- Gimbal Lock ë°©ì§€: Keyhole ì˜ì—­ íšŒí”¼
- ì•ˆì •ì  ì¶”ì : Â±270Â° ë²”ìœ„ ë‚´ì—ì„œë§Œ ë™ì‘

---

### 3. Keyhole ê°œë…

#### 3.1 Keyhole ì •ì˜
**Keyhole** = Azimuthê°€ Â±270Â° ê·¼ì²˜ë¥¼ í†µê³¼í•˜ëŠ” ìœ„ì„±

**ë°œìƒ ì¡°ê±´**:
- ìœ„ì„± ê¶¤ë„ê°€ Azimuth 260Â° â†’ 280Â° ì´ë™í•˜ëŠ” ê²½ìš°
- 270Â° ê¸°ê³„ì  í•œê³„ í†µê³¼ â†’ **Gimbal Lock ìœ„í—˜**
- í¬ì§€ì…”ë„ˆ ë¬¼ë¦¬ì  ì œí•œìœ¼ë¡œ ì¶”ì  ë¶ˆê°€

**í•´ê²° ë°©ë²•**:
- Train ê°ë„ë¡œ íšŒì „í•˜ì—¬ Â±270Â° ì˜ì—­ íšŒí”¼
- ì˜ˆ: Train=-90Â° ì ìš© ì‹œ 260Â° â†’ -170Â° (270Â° íšŒí”¼)

#### 3.2 Keyhole íŒë‹¨ ê¸°ì¤€
**íŒë‹¨ ë°ì´í„°**: `final_transformed` (Train=0)
```kotlin
val train0MaxAzRate = finalMst["MaxAzRate"] as Double
val threshold = 10.0  // ì‚¬ìš©ì ì„¤ì • (ê¸°ë³¸ê°’ 3.0)
val isKeyhole = train0MaxAzRate >= threshold
```

**íŒë‹¨ ë¡œì§**:
- `final_transformed`ì˜ MaxAzRate ê³„ì‚° (Train=0 ì ìš© ìƒíƒœ)
- MaxAzRateê°€ ì„ê³„ê°’ ì´ìƒì´ë©´ Keyholeë¡œ íŒë‹¨
- Keyhole ë°œìƒ ì‹œ Trainâ‰ 0ìœ¼ë¡œ ì¬ê³„ì‚° ì§„í–‰

#### 3.3 ì„ê³„ê°’ì˜ ì˜ë¯¸

| ì„ê³„ê°’ | íš¨ê³¼ | ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ |
|--------|------|-------------|
| 1.0Â°/s | ê³¼ë„í•œ Train ì ìš© | í…ŒìŠ¤íŠ¸ (ë¹„ê¶Œì¥, ì—­íš¨ê³¼ ê°€ëŠ¥) |
| 3.0Â°/s | ë³´ìˆ˜ì  íŒë‹¨ | ì•ˆì „ ìš°ì„  |
| 10.0Â°/s | ê³µê²©ì  íŒë‹¨ | ì§„ì§œ ìœ„í—˜í•œ ìœ„ì„±ë§Œ Train ì ìš© (ê¶Œì¥) |

**ìµœê·¼ ë¡œê·¸ ë¶„ì„ ê²°ê³¼**:
```
íŒ¨ìŠ¤ #8: MaxAzRate = 1.099Â°/s
ì„ê³„ê°’ 1.0Â°/s â†’ Keyhole íŒë‹¨ â†’ Train ì ìš©
â†’ ê²°ê³¼: ê°ì†ë„ ì¦ê°€ (1.099 â†’ 3.188Â°/s) â† ì—­íš¨ê³¼!

ì„ê³„ê°’ 10.0Â°/s â†’ Keyhole ë¯¸ë°œìƒ â†’ Train=0 ìœ ì§€
â†’ ê²°ê³¼: ìµœì  (1.099Â°/s ìœ ì§€)
```

**ê²°ë¡ **: ë†’ì€ ì„ê³„ê°’(10.0)ì´ ë” íš¨ê³¼ì 

---

### 4. ë°ì´í„° íë¦„ ì•„í‚¤í…ì²˜

#### 4.1 ì „ì²´ ë°ì´í„° íë¦„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Original (2ì¶•)                                              â”‚
â”‚   - Azimuth: 257.197Â°                                       â”‚
â”‚   - Train: 0Â° (ì €ì¥ë§Œ)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Axis Transformed (Train=0, ê°ë„ ì œí•œ âŒ)                    â”‚
â”‚   - Azimuth: ~267Â° (0-360Â° ë²”ìœ„)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Final Transformed (Train=0, ê°ë„ ì œí•œ âœ…)                    â”‚
â”‚   - Azimuth: ~267Â° (Â±270Â° ë²”ìœ„)                             â”‚
â”‚   - MaxAzRate: 4.493Â°/s â† Keyhole íŒë‹¨ ê¸°ì¤€                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                    [Keyhole íŒë‹¨]
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚               â”‚
         Keyhole ë¯¸ë°œìƒ    Keyhole ë°œìƒ
            (ì¢…ë£Œ)             â”‚
                              â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Keyhole Axis Transformed                     â”‚
         â”‚   - Trainâ‰ 0 (ì˜ˆ: -167.4Â°)                    â”‚
         â”‚   - ê°ë„ ì œí•œ âŒ (0-360Â° ë²”ìœ„)                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Keyhole Final Transformed                    â”‚
         â”‚   - Trainâ‰ 0                                  â”‚
         â”‚   - ê°ë„ ì œí•œ âœ… (Â±270Â° ë²”ìœ„)                 â”‚
         â”‚   - MaxAzRate: 2.663Â°/s â† ìµœì í™” ì™„ë£Œ       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2 6ê°€ì§€ DataType ì •ì˜

| DataType | Train | ê°ë„ ì œí•œ | ì €ì¥ | ìš©ë„ |
|----------|-------|----------|------|------|
| `original` | N/A | N/A | âœ“ | 2ì¶• ì›ë³¸ ë°ì´í„° (ìœ„ì„± ì¢Œí‘œ) |
| `axis_transformed` | 0Â° | âŒ | âœ“ | 3ì¶• ë³€í™˜ ì¤‘ê°„ (Train=0, 0-360Â°) |
| `final_transformed` | 0Â° | âœ… | âœ“ | ìµœì¢… ë°ì´í„° (Train=0, Â±270Â°), **Keyhole íŒë‹¨ ê¸°ì¤€** |
| `keyhole_axis_transformed` | â‰ 0 | âŒ | âœ“ | Keyhole 3ì¶• ì¤‘ê°„ (Trainâ‰ 0, 0-360Â°) |
| `keyhole_final_transformed` | â‰ 0 | âœ… | âœ“ | Keyhole ìµœì¢… (Trainâ‰ 0, Â±270Â°), **ì‹¤ì œ ì‚¬ìš©** |

---

### 5. í•µì‹¬ ì•Œê³ ë¦¬ì¦˜

#### 5.1 Train ê°ë„ ê³„ì‚°
**ë°©ë²•**: ìµœì¢… ìµœëŒ€ ê°ì†ë„ ì‹œì  ê¸°ì¤€ (ë°©ë²• B)

**ê³„ì‚° ê³¼ì •**:
1. `final_transformed` (Train=0) ë°ì´í„° ìƒì„±
2. ìµœëŒ€ ê°ì†ë„ ì‹œì ì˜ Azimuth ì¶”ì¶œ
3. Train ê°ë„ ê³„ì‚°: `trainAngle = -azimuthAtMaxRate`
4. Keyhole ë°œìƒ ì‹œ Trainâ‰ 0ìœ¼ë¡œ ì¬ë³€í™˜

**ê³µì‹**:
```kotlin
// ìµœë‹¨ ê±°ë¦¬ë¡œ Train ê°ë„ ê³„ì‚°
val azimuthAtMaxRate = finalMst["MaxAzRateAzimuth"]  // ì˜ˆ: 102.6Â°
val trainAngle = -azimuthAtMaxRate  // ì˜ˆ: -102.6Â°
// 102.6Â°ë¥¼ 0Â° ê·¼ì²˜ë¡œ ì´ë™ â†’ ìµœë‹¨ ê±°ë¦¬ íšŒì „
```

#### 5.2 ì¢Œí‘œ ë³€í™˜
**í•¨ìˆ˜**: `applyAxisTransformation()`

**íŒŒë¼ë¯¸í„°**:
- `forcedTrainAngle`: Train ê°ë„ ê°•ì œ ì„¤ì •
  - `forcedTrainAngle = 0.0`: Train=0 ê°•ì œ (axis_transformed, final_transformed ìƒì„± ì‹œ)
  - `forcedTrainAngle = null`: MSTì—ì„œ ì½ìŒ (keyhole_* ìƒì„± ì‹œ)

#### 5.3 ê°ë„ ì œí•œ
**í•¨ìˆ˜**: `applyAngleLimitTransformation()`

**ëª©ì **: Â±270Â° ë²”ìœ„ë¡œ ì œí•œí•˜ì—¬ í¬ì§€ì…”ë„ˆ ë¬¼ë¦¬ì  ì œí•œ ì¤€ìˆ˜

**ì ìš© ì‹œì **:
- `final_transformed`: Train=0 + ê°ë„ ì œí•œ âœ…
- `keyhole_final_transformed`: Trainâ‰ 0 + ê°ë„ ì œí•œ âœ…

#### 5.4 ê°ì†ë„ ê³„ì‚°
**ë°©ë²•**: 10-point cumulative sum method

**ê³„ì‚°ì‹**:
```kotlin
// 1ì´ˆê°„ (10ê°œ í¬ì¸íŠ¸) ì´ ë³€í™”ëŸ‰
for (i in 9 until dtl.size) {
    var sum = 0.0
    for (j in (i - 9)..i) {
        val diff = dtl[j] - dtl[j-1]  // ë³€í™”ëŸ‰
        sum += abs(diff)  // ëˆ„ì  (ì‹œê°„ìœ¼ë¡œ ë‚˜ëˆ„ì§€ ì•ŠìŒ)
    }
    maxVelocity = maxOf(maxVelocity, sum)
}
```

---

### 6. êµ¬í˜„ ìƒì„¸

#### 6.1 ë°ì´í„° êµ¬ì¡°

**íŒŒì¼**: `ProcessedTrackingData.kt` (Line 19-30)

```kotlin
data class ProcessedTrackingData(
    val originalMst: List<Map<String, Any?>>,
    val originalDtl: List<Map<String, Any?>>,
    val axisTransformedMst: List<Map<String, Any?>>,     // Train=0
    val axisTransformedDtl: List<Map<String, Any?>>,
    val finalTransformedMst: List<Map<String, Any?>>,     // Train=0 + ê°ë„ì œí•œ
    val finalTransformedDtl: List<Map<String, Any?>>,
    val keyholeAxisTransformedMst: List<Map<String, Any?>>,  // Trainâ‰ 0 (ì¤‘ê°„)
    val keyholeAxisTransformedDtl: List<Map<String, Any?>>,
    val keyholeFinalTransformedMst: List<Map<String, Any?>>,  // Trainâ‰ 0 + ê°ë„ì œí•œ
    val keyholeFinalTransformedDtl: List<Map<String, Any?>>
)
```

#### 6.2 í•µì‹¬ í•¨ìˆ˜

| í•¨ìˆ˜ | íŒŒì¼ | ì—­í•  | ì°¸ì¡° ìœ„ì¹˜ |
|------|------|------|-----------|
| `processFullTransformation()` | `SatelliteTrackingProcessor.kt` | ì „ì²´ ë³€í™˜ ê´€ë¦¬ | Line 44-170 |
| `applyAxisTransformation()` | `SatelliteTrackingProcessor.kt` | 3ì¶• ë³€í™˜ | Line 314-418 |
| `applyAngleLimitTransformation()` | `SatelliteTrackingProcessor.kt` | ê°ë„ ì œí•œ | Line 421-480 |
| `transformCoordinatesWithTrain()` | `CoordinateTransformer.kt` | Train íšŒì „ | Line 24-62 |
| `convertTrackingData()` | `LimitAngleCalculator.kt` | Â±270Â° ì œí•œ | Line 39-55 |

#### 6.3 DB ì €ì¥ êµ¬ì¡°

**Keyhole ë¯¸ë°œìƒ**:
```
âœ“ original
âœ“ axis_transformed
âœ“ final_transformed
```

**Keyhole ë°œìƒ**:
```
âœ“ original
âœ“ axis_transformed
âœ“ final_transformed
âœ“ keyhole_axis_transformed      // Trainâ‰ 0, ê°ë„ ì œí•œ âŒ
âœ“ keyhole_final_transformed     // Trainâ‰ 0, ê°ë„ ì œí•œ âœ…
```

---

### 7. í”„ë¡ íŠ¸ì—”ë“œ ì—°ê³„

#### 7.1 API ì—”ë“œí¬ì¸íŠ¸
```
GET /api/ephemeris/tracking/mst/merged
```

**ê¸°ëŠ¥**: Original + FinalTransformed + KeyholeFinalTransformed ë³‘í•©

#### 7.2 ì‘ë‹µ ë°ì´í„° êµ¬ì¡°

**Keyhole ë¯¸ë°œìƒ**:
```json
{
  "No": 3,
  "SatelliteName": "TERRA",
  "OriginalMaxAzRate": 1.234567,
  "OriginalMaxElRate": 0.234567,
  "FinalTransformedMaxAzRate": 1.234567,
  "FinalTransformedMaxElRate": 0.234567,
  "KeyholeFinalTransformedMaxAzRate": 1.234567,
  "KeyholeFinalTransformedMaxElRate": 0.234567,
  "IsKeyhole": false,
  "RecommendedTrainAngle": 0.0
}
```

**Keyhole ë°œìƒ**:
```json
{
  "No": 6,
  "SatelliteName": "AQUA",
  "OriginalMaxAzRate": 4.399377,
  "OriginalMaxElRate": 0.523456,
  "FinalTransformedMaxAzRate": 4.493264,
  "FinalTransformedMaxElRate": 0.523456,
  "KeyholeFinalTransformedMaxAzRate": 2.663722,
  "KeyholeFinalTransformedMaxElRate": 0.523456,
  "IsKeyhole": true,
  "RecommendedTrainAngle": 165.551039
}
```

---

### 8. ì½”ë“œ ì°¸ì¡°

#### 8.1 ì£¼ìš” íŒŒì¼

| íŒŒì¼ | ì—­í•  | ì£¼ìš” ë¼ì¸ |
|------|------|-----------|
| `ProcessedTrackingData.kt` | ë°ì´í„° êµ¬ì¡° ì •ì˜ | 19-30 |
| `SatelliteTrackingProcessor.kt` | ì „ì²´ ë³€í™˜ ë¡œì§ | 44-170 (ì „ì²´), 123-134 (KeyholeAxis), 142-153 (KeyholeFinal) |
| `EphemerisService.kt` | CSV ìƒì„± ë° API ì—°ë™ | 2984-3000 (ì¡°íšŒ), 3093-3094 (í—¤ë”), 3274-3293 (ë°ì´í„°) |
| `CoordinateTransformer.kt` | 3D ë³€í™˜ | 24-62 |
| `LimitAngleCalculator.kt` | ê°ë„ ì œí•œ | 39-55 |
| `SettingsService.kt` | ì„ê³„ê°’ ì„¤ì • | 157 |

---

### 9. êµ¬í˜„ ì™„ë£Œ ìƒíƒœ

#### 9.1 ì™„ë£Œëœ ê¸°ëŠ¥
âœ“ 6ê°€ì§€ DataType ì²˜ë¦¬ (original, axis, final, keyhole_axis, keyhole_final)
âœ“ Keyhole íŒë‹¨ (final_transformed ê¸°ì¤€)
âœ“ Train ê°ë„ ê³„ì‚° (ë°©ë²• B)
âœ“ `forcedTrainAngle` íŒŒë¼ë¯¸í„°ë¡œ Train=0/â‰ 0 ë¶„ë¦¬
âœ“ KeyholeAxis/Final DB ì €ì¥
âœ“ CSV ë™ì  í—¤ë”/ë°ì´í„° ì¶œë ¥
âœ“ í”„ë¡ íŠ¸ì—”ë“œ API ë³‘í•©

#### 9.2 ì„¤ì •
- **ì„ê³„ê°’**: ê¸°ë³¸ 3.0Â°/s, í˜„ì¬ 10.0Â°/s ì‚¬ìš©
- **ê°ì†ë„ ê³„ì‚°**: 10-point cumulative sum method
- **ê°ë„ ì œí•œ**: Â±270Â°
- **Train ê°ë„**: ìµœë‹¨ ê±°ë¦¬ ê³„ì‚°

#### 9.3 í•µì‹¬ ê°œë… ì •ë¦¬

**Train ê°ë„ì˜ ëª©ì **:
- âœ… **Keyhole íšŒí”¼**: Â±270Â° ì˜ì—­ í†µê³¼ ë°©ì§€
- âŒ **ê°ì†ë„ ìµœì†Œí™” ì•„ë‹˜** (ë¶€ì°¨ì  íš¨ê³¼)

**Keyhole íŒë‹¨**:
- ê¸°ì¤€: `final_transformed` (Train=0)ì˜ MaxAzRate
- ì„ê³„ê°’: 10.0Â°/s (ì„¤ì • ê°€ëŠ¥)
- íŒë‹¨ í›„ Keyhole ë°œìƒ ì‹œì—ë§Œ Trainâ‰ 0 ì ìš©

**ë°ì´í„° ì €ì¥**:
- Train=0: í•­ìƒ ì €ì¥ (original, axis, final)
- Trainâ‰ 0: Keyhole ë°œìƒ ì‹œë§Œ ì €ì¥ (keyhole_axis, keyhole_final)

---

**ë¬¸ì„œ ë²„ì „**: 1.0.0  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2024-12

