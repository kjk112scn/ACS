# {대상명} 코드 리뷰

**리뷰일**: YYYY-MM-DD
**분석 깊이**: light / standard / deep
**분석자**: Claude Code /review

---

## 1. 분석 범위

### 대상 파일

| 영역 | 파일 | 라인 수 |
|------|------|--------|
| BE | {파일명} | {N} |
| FE | {파일명} | {N} |

### 분석 관점

- [x] 상태머신
- [x] 타이밍/비동기
- [x] 경쟁조건
- [x] 데이터 흐름
- [ ] 성능 (선택)
- [ ] 보안 (선택)

---

## 2. 요약

| 심각도 | 개수 | 즉시 조치 |
|:------:|:----:|:---------:|
| 🔴 Critical | N | Yes |
| 🟠 High | N | Yes |
| 🟡 Medium | N | No |
| 🟢 Low | N | No |
| 💡 Suggestion | N | No |

**총 발견 항목:** N개

---

## 3. 아키텍처 개요

### 컴포넌트 다이어그램

```
{다이어그램}
```

### 데이터 흐름

```
{입력} → [처리 1] → [처리 2] → {출력}
```

---

## 4. 상태머신 분석

### 4.1 상태 정의

| 상태 | 설명 | 진입 조건 | 탈출 조건 |
|------|------|----------|----------|
| | | | |

### 4.2 상태 전이 다이어그램

```
┌─────────┐  action   ┌─────────┐
│ State A │ ─────────►│ State B │
└─────────┘           └─────────┘
```

### 4.3 발견된 문제

| # | 문제 유형 | 설명 | 위치 | 심각도 |
|---|----------|------|------|:------:|
| SM-1 | | | | 🔴/🟠/🟡/🟢 |

---

## 5. 타이밍 분석

### 5.1 비동기 처리 맵

| 함수 | 타입 | 타임아웃 | 재시도 |
|------|------|---------|--------|
| | async/Mono | | |

### 5.2 순서 보장 분석

```
1. call A()
2. await B()  ← 여기서 C() 호출되면?
3. use result
```

### 5.3 발견된 문제

| # | 문제 유형 | 설명 | 위치 | 심각도 |
|---|----------|------|------|:------:|
| TM-1 | | | | |

---

## 6. 경쟁조건 분석

### 6.1 공유 자원 목록

| 자원 | 접근 방식 | 동기화 | 위험도 |
|------|----------|--------|:------:|
| | read/write | mutex/none | 🔴/🟢 |

### 6.2 잠재적 경쟁 지점

```kotlin
// 예시
val data = cache.get(key)  // Thread A
cache.put(key, newData)    // Thread B (동시)
data.process()             // stale data 사용!
```

### 6.3 발견된 문제

| # | 문제 유형 | 설명 | 위치 | 심각도 |
|---|----------|------|------|:------:|
| RC-1 | | | | |

---

## 7. 에러 처리 분석

### 7.1 예외 처리 맵

| 함수 | 발생 가능 예외 | 처리 여부 | 복구 전략 |
|------|--------------|:---------:|----------|
| | | ✅/❌ | |

### 7.2 발견된 문제

| # | 문제 유형 | 설명 | 위치 | 심각도 |
|---|----------|------|------|:------:|
| EH-1 | | | | |

---

## 8. 🔴 Critical Issues

### C1. {이슈 제목}

| 항목 | 내용 |
|------|------|
| **파일** | `path/to/file.kt` |
| **위치** | L123-145 |
| **문제** | {문제 설명} |
| **영향** | {잠재적 영향} |
| **권장 조치** | {수정 방안} |

```kotlin
// 문제 코드
```

**연계:** `/bugfix` 권장

---

## 9. 🟠 High Issues

### H1. {이슈 제목}

| 항목 | 내용 |
|------|------|
| **파일** | |
| **위치** | |
| **문제** | |
| **권장 조치** | |

---

## 10. 🟡 Medium Issues

### M1. {이슈 제목}
...

---

## 11. 🟢 Low Issues

### L1. {이슈 제목}
...

---

## 12. 💡 Suggestions

### S1. {제안 제목}
...

---

## 13. 체크리스트 결과

### Frontend

| ID | 항목 | 결과 | 비고 |
|----|------|:----:|------|
| FE-R01 | shallowRef 적절 사용 | ✅/❌ | |
| FE-R05 | 반응형 손실 없음 | ✅/❌ | |
| FE-L01 | WebSocket 정리 | ✅/❌ | |
| FE-D01 | 라디안/도 변환 | ✅/❌ | |

### Backend

| ID | 항목 | 결과 | 비고 |
|----|------|:----:|------|
| BE-W01 | block() 미사용 | ✅/❌ | |
| BE-M01 | 상태 전이 정확 | ✅/❌ | |
| BE-C01 | Race Condition 없음 | ✅/❌ | |
| BE-K01 | !! 연산자 미사용 | ✅/❌ | |

### 통합

| ID | 항목 | 결과 | 비고 |
|----|------|:----:|------|
| INT-C01 | API 타입 일치 | ✅/❌ | |
| INT-D01 | 단위 일관성 | ✅/❌ | |

---

## 14. 카테고리별 요약

### Backend 분석 결과

| 파일 | Critical | High | Medium | Low |
|------|:--------:|:----:|:------:|:---:|
| | | | | |

### Frontend 분석 결과

| 파일 | Critical | High | Medium | Low |
|------|:--------:|:----:|:------:|:---:|
| | | | | |

---

## 15. 권장 개선 작업

| 우선순위 | 작업 | 스킬 | 영향 |
|:--------:|------|------|------|
| 1 | {Critical 버그 수정} | `/bugfix` | 높음 |
| 2 | {구조 개선} | `/refactor` | 중간 |
| 3 | {성능 최적화} | `/optimize` | 중간 |
| 4 | {기능 추가} | `/feature` | - |

---

## 16. 다음 단계

개선을 진행하시겠습니까?

1. **Critical/High 즉시 수정** → `/bugfix` 연계
2. **구조 개선** → `/refactor` 연계
3. **성능 최적화** → `/optimize` 연계
4. **기능 추가** → `/feature` 연계
5. **보류** → 나중에 처리

---

## 부록

### A. 분석에 사용된 체크리스트

- `CHECKLIST_FE.md`
- `CHECKLIST_BE.md`
- `CHECKLIST_INT.md`
- `CHECKLIST_MODE.md`

### B. 참조 문서

-

### C. 분석 로그

```
{Phase별 실행 로그}
```
