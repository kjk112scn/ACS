---
name: bugfix
description: 버그 수정 워크플로우. 원인 분석, 수정 계획, 회귀 테스트. "버그 수정", "에러", "bugfix", "오류" 키워드에 반응.
model: opus
---

# Bugfix - 버그 수정 스킬

## 역할

버그 수정의 전체 라이프사이클을 관리합니다.

**핵심 가치:**
- 체계적 원인 분석 (ANALYSIS.md)
- 수정 내용 기록 (FIX.md)
- 회귀 테스트 체크리스트
- 관련 아카이브 자동 검색

---

## 워크플로우

```
[0. 검색] → [1. 폴더생성] → [2. 분석] → [3. 수정] → [4. 검증] → [5. 완료]
     │           │            │           │           │           │
  archive/   active/      ANALYSIS.md   FIX.md     테스트      /done
  검색       {Bugfix}/    작성          작성       체크리스트   호출
```

---

## Step 0: 관련 아카이브 검색 (자동)

```yaml
동작:
  - 버그 키워드로 archive/ 검색
  - 관련 과거 문서 발견 시 참조 제안

예시:
  "📦 관련 archive 발견: Login_Token_Expire_Bugfix
   참고할까요? [y/n]"
```

---

## Step 1: 폴더 생성

```bash
mkdir -p docs/work/active/Bugfix_{버그명}/
```

---

## Step 2: 원인 분석 (ANALYSIS.md)

```markdown
# {버그명} 원인 분석

## 1. 증상

{버그 증상 설명}

## 2. 재현 단계

1. ...
2. ...
3. ...

## 3. 분석 과정

### 로그 분석
```
{관련 로그 또는 에러 메시지}
```

### 코드 추적
| 순서 | 파일 | 함수 | 설명 |
|------|------|------|------|
| 1 | | | |

## 4. 근본 원인 (Root Cause)

**원인**: {왜 이 버그가 발생했는가}

## 5. 영향 범위

| 영역 | 영향 |
|------|:----:|
| Frontend | ✅/❌ |
| Backend | ✅/❌ |
```

---

## Step 3: 수정 계획 (FIX.md)

```markdown
# {버그명} 수정 계획

## 1. 수정 방안

**선택한 방안**: {어떻게 수정할 것인가}

### 대안 비교
| 방안 | 장점 | 단점 | 선택 |
|------|------|------|:----:|
| A | | | ❌ |
| B | | | ✅ |

## 2. 변경 내용

### {파일명}
```diff
- 변경 전
+ 변경 후
```

**Why**: {왜 이렇게 수정했는가}

## 3. 테스트 계획

### 수정 확인
- [ ] 버그 증상 해결 확인
- [ ] 재현 단계 다시 실행

### 회귀 테스트
- [ ] 관련 기능 정상 작동
- [ ] 다른 기능 영향 없음
- [ ] 빌드 성공

## 4. 재발 방지

| 대책 | 적용 |
|------|:----:|
| 입력 검증 강화 | ✅/❌ |
| 테스트 추가 | ✅/❌ |
```

---

## 심각도 분류

| 레벨 | 이모지 | 기준 | 대응 |
|------|:------:|------|------|
| Critical | 🔴 | 시스템 다운, 데이터 손실 | 즉시 |
| High | 🟠 | 주요 기능 불가 | 당일 |
| Medium | 🟡 | 기능 제한, 우회 가능 | 이번 주 |
| Low | 🟢 | 경미한 불편 | 백로그 |

---

## 실행 예시

```
사용자: "로그인 버튼 클릭해도 반응 없어"

→ /bugfix 워크플로우 시작:

[Step 0: 아카이브 검색]
  🔍 archive/에서 "로그인" 검색...
  📦 관련 문서 없음 → 새로 시작

[Step 1: 폴더 생성]
  docs/work/active/Bugfix_Login_Button_No_Response/
  ├── README.md
  ├── ANALYSIS.md
  └── FIX.md

[Step 2: 원인 분석]
  - 증상: 버튼 클릭 무반응
  - 로그: "Cannot read property 'submit' of undefined"
  - Root Cause: form ref 미연결

[Step 3: 수정]
  - FIX.md 작성
  - 코드 수정: ref 연결

[Step 4: 검증]
  - ✅ 버튼 클릭 정상 동작
  - ✅ 빌드 성공

[Step 5: 완료]
  /done 호출
```

---

## 관련 스킬

- `/revive` - 과거 버그 문서 부활
- `/done` - 작업 완료

---

**스킬 버전:** 2.0.0